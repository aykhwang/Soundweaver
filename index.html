<!DOCTYPE HTML>
<html>
<body onselectstart="return false">

<a href="javascript:showQuarter();" ><img id="showquarter" src="resources/quarternote/quarter_note_show.png" /></a><img src="resources/line.png" class="placeholder" /><a href="javascript:showHalf();"><img id="showhalf" src="resources/halfnote/half_note_show.png" /></a><img src="resources/line.png" class="placeholder" /><a href="javascript:showWhole();"><img id="showwhole" src="resources/wholenote/wholenote_show.png" /></a><br />

<div id="wholenote"><a href="javascript:addNote('c2','w');"><img src="resources/wholenote/c/Wholenote_red_C.png" /></a> 
<a href="javascript:addNote('d2','w');"><img src="resources/wholenote/d/Wholenote_red_D.png" /></a> 
<a href="javascript:addNote('e2','w');"><img src="resources/wholenote/e/Wholenote_red_E.png" /></a> 
<a href="javascript:addNote('f2','w');"><img src="resources/wholenote/f/Wholenote_red_f.png" /></a> 
<a href="javascript:addNote('g2','w');"><img src="resources/wholenote/g/Wholenote_red_g.png" /></a> 
<a href="javascript:addNote('a2','w');"><img src="resources/wholenote/a/Wholenote_red_A.png" /></a> 
<a href="javascript:addNote('b2','w');"><img src="resources/wholenote/b/Wholenote_red_b.png" /></a> <br />

<a href="javascript:addNote('c3','w');"><img src="resources/wholenote/c/Wholenote_green_c.png" /></a> 
<a href="javascript:addNote('d3','w');"><img src="resources/wholenote/d/Wholenote_green_d.png" /></a> 
<a href="javascript:addNote('e3','w');"><img src="resources/wholenote/e/Wholenote_green_e.png" /></a> 
<a href="javascript:addNote('f3','w');"><img src="resources/wholenote/f/Wholenote_green_f.png" /></a> 
<a href="javascript:addNote('g3','w');"><img src="resources/wholenote/g/Wholenote_green_g.png" /></a> 
<a href="javascript:addNote('a3','w');"><img src="resources/wholenote/a/Wholenote_green_a.png" /></a> 
<a href="javascript:addNote('b3','w');"><img src="resources/wholenote/b/Wholenote_green_b.png" /></a> <br />

<a href="javascript:addNote('c4','w');"><img src="resources/wholenote/c/Wholenote_blue_c.png" /></a> 
<a href="javascript:addNote('d4','w');"><img src="resources/wholenote/d/Wholenote_blue_d.png" /></a> 
<a href="javascript:addNote('e4','w');"><img src="resources/wholenote/e/Wholenote_blue_e.png" /></a> 
<a href="javascript:addNote('f4','w');"><img src="resources/wholenote/f/Wholenote_blue_f.png" /></a> 
<a href="javascript:addNote('g4','w');"><img src="resources/wholenote/g/Wholenote_blue_g.png" /></a> 
<a href="javascript:addNote('a4','w');"><img src="resources/wholenote/a/Wholenote_blue_a.png" /></a> 
<a href="javascript:addNote('b4','w');"><img src="resources/wholenote/b/Wholenote_blue_b.png" /></a> <br /></div>


<div id="halfnote">
<a href="javascript:addNote('c2','h');"><img src="resources/halfnote/c/halfnote_red_c.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('d2','h');"><img src="resources/halfnote/d/halfnote_red_d.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('e2','h');"><img src="resources/halfnote/e/halfnote_red_e.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('f2','h');"><img src="resources/halfnote/f/halfnote_red_f.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('g2','h');"><img src="resources/halfnote/g/halfnote_red_g.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('a2','h');"><img src="resources/halfnote/a/halfnote_red_a.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('b2','h');"><img src="resources/halfnote/b/halfnote_red_b.png" id="half"/></a><img src="resources/line.png" class="placeholder" /> <br /><br /><br />

<a href="javascript:addNote('c3','h');"><img src="resources/halfnote/c/halfnote_green_c.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('d3','h');"><img src="resources/halfnote/d/halfnote_green_d.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('e3','h');"><img src="resources/halfnote/e/halfnote_green_e.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('f3','h');"><img src="resources/halfnote/f/halfnote_green_f.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('g3','h');"><img src="resources/halfnote/g/halfnote_green_g.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('a3','h');"><img src="resources/halfnote/a/halfnote_green_a.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('b3','h');"><img src="resources/halfnote/b/halfnote_green_b.png" id="half"/></a><img src="resources/line.png" class="placeholder" /> <br /><br /><br />

<a href="javascript:addNote('c4','h');"><img src="resources/halfnote/c/halfnote_blue_c.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('d4','h');"><img src="resources/halfnote/d/halfnote_blue_d.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('e4','h');"><img src="resources/halfnote/e/halfnote_blue_e.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('f4','h');"><img src="resources/halfnote/f/halfnote_blue_f.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('g4','h');"><img src="resources/halfnote/g/halfnote_blue_g.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('a4','h');"><img src="resources/halfnote/a/halfnote_blue_a.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('b4','h');"><img src="resources/halfnote/b/halfnote_blue_b.png" id="half"/></a><img src="resources/line.png" class="placeholder" /> <br /><br /><br />
</div>




<div id="quarternote">
<a href="javascript:addNote('c2','q');"><img src="resources/quarternote/c/quarternote_red_c.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('d2','q');"><img src="resources/quarternote/d/quarternote_red_d.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('e2','q');"><img src="resources/quarternote/e/quarternote_red_e.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('f2','q');"><img src="resources/quarternote/f/quarternote_red_f.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('g2','q');"><img src="resources/quarternote/g/quarternote_red_g.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('a2','q');"><img src="resources/quarternote/a/quarternote_red_a.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('b2','q');"><img src="resources/quarternote/b/quarternote_red_b.png" id="half"/></a><img src="resources/line.png" class="placeholder" /> <br /><br /><br />

<a href="javascript:addNote('c3','q');"><img src="resources/quarternote/c/quarternote_green_c.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('d3','q');"><img src="resources/quarternote/d/quarternote_green_d.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('e3','q');"><img src="resources/quarternote/e/quarternote_green_e.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('f3','q');"><img src="resources/quarternote/f/quarternote_green_f.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('g3','q');"><img src="resources/quarternote/g/quarternote_green_g.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('a3','q');"><img src="resources/quarternote/a/quarternote_green_a.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('b3','q');"><img src="resources/quarternote/b/quarternote_green_b.png" id="half"/></a><img src="resources/line.png" class="placeholder" /> <br /><br /><br />

<a href="javascript:addNote('c4','q');"><img src="resources/quarternote/c/quarternote_blue_c.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('d4','q');"><img src="resources/quarternote/d/quarternote_blue_d.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('e4','q');"><img src="resources/quarternote/e/quarternote_blue_e.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('f4','q');"><img src="resources/quarternote/f/quarternote_blue_f.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('g4','q');"><img src="resources/quarternote/g/quarternote_blue_g.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('a4','q');"><img src="resources/quarternote/a/quarternote_blue_a.png" id="half"/></a><img src="resources/line.png" class="placeholder" />
<a href="javascript:addNote('b4','q');"><img src="resources/quarternote/b/quarternote_blue_b.png" id="half"/></a><img src="resources/line.png" class="placeholder" /> <br /><br /><br />
</div>



<br />
<br/>
<div id="staff"><br /></div><img src="resources/delete.png" onclick="javascript:removeNote();"/><div id="preview"></div><br /><br />
<img src="resources/cooltext.png" onmouseover="this.src='resources/cooltextMouseOver.png';" onmouseout="this.src='resources/cooltext.png';" onclick="javascript:play();"/><h3><a href="javascript:clear();">CLEAR</a>

<style type="text/css">
::selection {
	background: #ffffff;
}
#staff {
	font-size:50px;
	font-family:Arial;
	border: 3px dashed #ccc;
    margin: 10px;
    padding: 10px;
}

a {
	font-size:32px;
	font-family:Georgia;
}

#play {
	font-size:100px;
}

body {
	text-align:center;
}
table {
	width:100%;
	height:60px;
	text-align:center;
}
td {
	height:30px;
}
#space {
	height:10px;
	background-color:blue;
}
#line {
	height:10px;
	background-image: url("resources/line.png");
}
#line1 {
	height:10px;
	background-image: url("resources/line.png");
}
#half {
	height:74px;
	width:32px;
}	
.half {
	height:74px;
	width:32px;
}
.placeholder {
	height:0px;
	width:82px;
}
#wholenote {
	display:none;
}
#halfnote {
	display:none;
}
#quarternote {
	display:none;
}
#showquarter {
	width:60px;
	height:130px;
}
.whole {
	height:100px;
	width:70px;
}
#showhalf {
	width:60px;
	height:130px;
}
</style>
<script src="http://html5demos.com/h5utils.js"></script> 
<script type="text/javascript">
var notenum = 1;
var note;
var type;
function addNote(note,type) {
	
	var staff = document.getElementById("staff").innerHTML;
	var color;
	var htmlimgsrc;
	if (note.substr("1","1") == "2") {
		color = 'red';
	}
	else if (note.substr("1","1") == "3") {
		color = 'green';
	}
	else if (note.substr("1","1") == "4") {
		color = 'blue';
	}
	notename = note.substr("0","1");
	var notetype;
	if (type == "w") {
		notetype = 'wholenote';
		htmlimgsrc = '<img name="staffimg" class="whole" id="img'+notenum+'" src="resources/'+notetype+'/'+notename+'/'+notetype+'_'+color+'_'+notename+'.png" />';
	}
	else if (type == "h") {
		note = note+"h";
		notetype = 'halfnote';
		htmlimgsrc = '<img name="staffimg" class="half" id="img'+notenum+'" src="resources/'+notetype+'/'+notename+'/'+notetype+'_'+color+'_'+notename+'.png"+ />          ';
	}
	else if (type == "q") {
		note = note+"q";
		notetype = 'quarternote';
		htmlimgsrc = '<img name="staffimg" class="half" id="img'+notenum+'" src="resources/'+notetype+'/'+notename+'/'+notetype+'_'+color+'_'+notename+'.png"+ />          ';
	}
	
		
	note = '<audio class="'+type+'" id="note'+notenum+'" src="notes/'+note+'.mp3"></audio>'+htmlimgsrc;
	document.getElementById("staff").innerHTML = staff + note;
	notenum = notenum+1;
	
	return null;
}

function play() {
	//get the list of audio files
	var audio = document.getElementsByTagName("audio");
	for(var i=1;i<=audio.length;i++){
		if (document.getElementById("note"+i).className == "w") {
			document.getElementById("note"+i).play();
			console.dir(document.getElementById("note"+i));
			
			
			var date = new Date();
       		var curDate = null;
 
	        do { curDate = new Date(); } 
    	    while(curDate-date < 1000)
        
        	
		}
		else if (document.getElementById("note"+i).className == "h") {
		
			document.getElementById("note"+i).play();

			
			var date = new Date();
       		var curDate = null;
 
	        do { curDate = new Date(); } 
    	    while(curDate-date < 500)
   
        
        	
		}
		else if (document.getElementById("note"+i).className == "q") {
		
			document.getElementById("note"+i).play();

			
			var date = new Date();
       		var curDate = null;
 
	        do { curDate = new Date(); } 
    	    while(curDate-date < 250)
   
        
        	
		}

				
	}
	
	resetStart();
	
			
}

function resetStart() {
	var audio = document.getElementsByTagName("audio");
	for (var i=1;i<audio.length;i++) {
		document.getElementById("note"+i).currentTime=0;
		document.getElementById("note"+i).pause();
	}
}

function clear() {
	location.reload(true);
}



var drop = document.querySelector('#staff');

// Tells the browser that we *can* drop on this target
addEvent(drop, 'dragover', cancel);
addEvent(drop, 'dragenter', cancel);

addEvent(drop, 'drop', function (event) {
  // stops the browser from redirecting off to the text.
  if (event.preventDefault) {
    event.preventDefault();
  }

  var code = event.dataTransfer.getData("text/uri-list").substr("20","2");
  var type = event.dataTransfer.getData("text/uri-list").substr("25","1");
  
  addNote(code,type);

  return false;
});

function cancel(event) {
  if (event.preventDefault) {
    event.preventDefault();
  }
  return false;
}

function removeNote() {
	var audio = document.getElementsByTagName("audio");
	var imgs = document.getElementsByName("staffimg");
	imglength = imgs.length;
	length = audio.length;
	var removed = document.getElementById("note"+length);
	
	if (imglength == 1) {
		clear();
	}
	document.getElementById("staff").removeChild(document.getElementById("note"+length));
	document.getElementById("staff").removeChild(document.getElementById("img"+length));
}
var c = false;
function showWhole() {

	if (c == false) {
		document.getElementById("wholenote").style.display = "inline";
		document.getElementById("showwhole").src = "resources/wholenote/wholenote_hide.png";
		c = true;
	}
	else if (c == true) {
		document.getElementById("wholenote").style.display = "none";
		document.getElementById("showwhole").src = "resources/wholenote/wholenote_show.png";
		c = false;
	}
}
var d = false;
function showHalf() {

	if (d == false) {
		document.getElementById("halfnote").style.display = "inline";
		document.getElementById("showhalf").src = "resources/halfnote/half_note_hide.png";
		d = true;
	}
	else if (d == true) {
		document.getElementById("halfnote").style.display = "none";
		document.getElementById("showhalf").src = "resources/halfnote/half_note_show.png";
		d = false;
	}
}
var e = false;
function showQuarter() {

	if (e == false) {
		document.getElementById("quarternote").style.display = "block";
		document.getElementById("showquarter").src = "resources/quarternote/quarter_note_hide.png";
		e = true;
	}
	else if (e == true) {
		document.getElementById("quarternote").style.display = "none";
		document.getElementById("showquarter").src = "resources/quarternote/quarter_note_show.png";
		e = false;
	}
}
</script>
</body>
</html>